<!DOCTYPE html>
<html lang="nl-BE">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Protest+Riot&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <main class="container">
      <img class="cat-img" src="img/cat-0.jpeg" alt="Picture of a cat" />
      <p class="title">Wil je mijn valentijn zijn???</p>
      <div class="buttons">
        <button type="button" class="btn btn--yes">Ja</button>
        <button type="button" class="btn btn--no">Nee</button>
      </div>
    </main>
    <script>
      "use strict";

      const titleElement = document.querySelector(".title");
      const buttonsContainer = document.querySelector(".buttons");
      const yesButton = document.querySelector(".btn--yes");
      const noButton = document.querySelector(".btn--no");
      const catImg = document.querySelector(".cat-img");

      const MAX_IMAGES = 5;

      let play = true;
      let noCount = 0;

      yesButton.addEventListener("click", handleYesClick);

      noButton.addEventListener("click", function () {
        if (play) {
          noCount++;
          const imageIndex = Math.min(noCount, MAX_IMAGES);
          changeImage(imageIndex);
          resizeYesButton();
          updateNoButtonText();
          if (noCount === MAX_IMAGES) {
            play = false;
          }
        }
      });

      function handleYesClick() {
        titleElement.innerHTML =
          "Seni cok seviyorum hayatim, ve bu gunu seninle gecirmek icin sabirsizlikla bekliyorum!";
        buttonsContainer.classList.add("hidden");
        changeImage("yes");
      }

      function resizeYesButton() {
        const computedStyle = window.getComputedStyle(yesButton);
        const fontSize = parseFloat(
          computedStyle.getPropertyValue("font-size")
        );
        const newFontSize = fontSize * 1.6;

        yesButton.style.fontSize = `${newFontSize}px`;
      }

      function generateMessage(noCount) {
        const messages = [
          "Nee mi?",
          "Ben je zeker?",
          "Askim gedraag je svp",
          "Kafayi mi yedin????",
          "Uzuyorsun beni bak",
          "Druk nog 1x en ik sta voor je deur!",
        ];

        const messageIndex = Math.min(noCount, messages.length - 1);
        return messages[messageIndex];
      }

      function changeImage(image) {
        catImg.src = `img/cat-${image}.jpeg`;
      }

      function updateNoButtonText() {
        noButton.innerHTML = generateMessage(noCount);
      }
    </script>
  </body>
</html>
